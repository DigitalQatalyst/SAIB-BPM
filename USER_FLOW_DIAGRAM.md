# Complete User Flow Diagram

## ğŸ¯ End-to-End User Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER (REQUESTER)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    1. Landing Page
       â”‚
       â”œâ”€â†’ Click "Get Started"
       â”‚
    2. Service Marketplace
       â”‚
       â”œâ”€â†’ Browse services
       â”œâ”€â†’ Search/Filter
       â”‚
    3. Service Details
       â”‚
       â”œâ”€â†’ View "Revise Procedure Manual/Policy"
       â”œâ”€â†’ Click "Request This Service"
       â”‚
    4. Policy Request Form
       â”‚
       â”œâ”€â†’ Fill policy name
       â”œâ”€â†’ Select source of request
       â”œâ”€â†’ Answer qualifying questions (Major/Minor)
       â”œâ”€â†’ Enter justification
       â”œâ”€â†’ Add description
       â”œâ”€â†’ Upload attachments
       â”œâ”€â†’ Click "Submit Request"
       â”‚
    5. Acknowledgment Modal
       â”‚
       â”œâ”€â†’ Receive ticket number (e.g., REQ-2024-001)
       â”œâ”€â†’ Click "Track Requests"
       â”‚
    6. Track Requests Page
       â”‚
       â””â”€â†’ Monitor request status
           - Pending
           - In Review
           - Needs Revision
           - Approved
           - Completed

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      P&P TEAM MEMBER                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    1. Manage Requests Page
       â”‚
       â”œâ”€â†’ View Dashboard
       â”‚   - Pending requests
       â”‚   - In review
       â”‚   - Statistics
       â”‚
       â”œâ”€â†’ View Request List
       â”‚   - Filter by status
       â”‚   - Search requests
       â”‚
    2. Select Request (REQ-2024-001)
       â”‚
       â”œâ”€â†’ View Request Details
       â”‚   - Requester info
       â”‚   - Request description
       â”‚   - Priority
       â”‚   - SLA dates
       â”‚
       â”œâ”€â†’ Quick Actions:
       â”‚   - Assign Request
       â”‚   - Approve Request
       â”‚   - Reject Request
       â”‚   - âœ¨ Generate Document in AI DocWriter âœ¨
       â”‚
    3. Click "Generate Document in AI DocWriter"
       â”‚
       â””â”€â†’ Navigate to DocWriter

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI DOCWRITER (ENHANCED)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    STEP 1: Document Information Form
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Document Title: [____________]      â”‚
    â”‚ Category: [____________]            â”‚
    â”‚ Source: [____________]              â”‚
    â”‚ Language: [English â–¼]               â”‚
    â”‚   - English Only                    â”‚
    â”‚   - Arabic Only                     â”‚
    â”‚   - Bilingual                       â”‚
    â”‚ Justification: [____________]       â”‚
    â”‚ Additional Context: [____________]  â”‚
    â”‚                                     â”‚
    â”‚         [Cancel]  [Next â†’]          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â†’ Click "Next"
           â”‚
    STEP 2: Additional Documents
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Upload Additional Documents         â”‚
    â”‚                                     â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  ğŸ“„ Drag & Drop or Browse   â”‚   â”‚
    â”‚  â”‚  DOC, PDF, TXT, MD, XML     â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚                                     â”‚
    â”‚  Selected: policy_draft.docx        â”‚
    â”‚                                     â”‚
    â”‚    [â† Back]  [Generate Document]    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â†’ Click "Generate Document"
           â”‚
    STEP 3: Choose Generation Mode
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Would you like to generate the     â”‚
    â”‚  document section by section?       â”‚
    â”‚                                     â”‚
    â”‚  This gives you more control over   â”‚
    â”‚  each part of the document.         â”‚
    â”‚                                     â”‚
    â”‚         [No]  [Yes]                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚             â”‚                 â”‚
        [No]          [Yes]                â”‚
           â”‚             â”‚                 â”‚
           â”‚             â”‚                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚   FULL      â”‚  â”‚   SECTION       â”‚  â”‚
    â”‚  DOCUMENT   â”‚  â”‚   MODE          â”‚  â”‚
    â”‚   MODE      â”‚  â”‚   (NEW!)        â”‚  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
           â”‚                 â”‚             â”‚
           â”‚                 â”‚             â”‚
    Generate entire    Initialize with     â”‚
    document at once   placeholder sectionsâ”‚
           â”‚                 â”‚             â”‚
           â”‚                 â”‚             â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚
    STEP 4: Document Editor
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  AI DocWriter - Section Mode                                â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚             â”‚                               â”‚               â”‚
    â”‚  ğŸ“‹ SECTION â”‚    ğŸ“ DOCUMENT EDITOR         â”‚  ğŸ’¬ SIDEBAR   â”‚
    â”‚  NAVIGATOR  â”‚                               â”‚               â”‚
    â”‚             â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  Comments     â”‚
    â”‚  Document   â”‚  â”‚ # Policy Title          â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  Sections   â”‚  â”‚                         â”‚  â”‚  â”‚ User A  â”‚ â”‚
    â”‚  (12/18)    â”‚  â”‚ ## Abbreviations        â”‚  â”‚  â”‚ "Good!" â”‚ â”‚
    â”‚             â”‚  â”‚ | Term | Full Form |    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚  âœ“ Title    â”‚  â”‚ |------|-----------|    â”‚  â”‚              â”‚
    â”‚  âœ“ Abbrev   â”‚  â”‚ | SAIB | Saudi...  |    â”‚  â”‚  Version     â”‚
    â”‚  âœ“ Defs     â”‚  â”‚                         â”‚  â”‚  History     â”‚
    â”‚  â—‹ Intro    â”‚  â”‚ ## Definitions          â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â—‹ Purpose  â”‚  â”‚ | Term | Definition |   â”‚  â”‚  â”‚ v1.0    â”‚ â”‚
    â”‚  âœ“ Policy   â”‚  â”‚ |------|-----------|    â”‚  â”‚  â”‚ v1.1    â”‚ â”‚
    â”‚  â—‹ Refs     â”‚  â”‚ | Bank | SAIB...    |   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚  ...        â”‚  â”‚                         â”‚  â”‚              â”‚
    â”‚             â”‚  â”‚ ## Introduction         â”‚  â”‚              â”‚
    â”‚  [Generate  â”‚  â”‚ *Not generated yet*     â”‚  â”‚              â”‚
    â”‚   All       â”‚  â”‚                         â”‚  â”‚              â”‚
    â”‚   Missing]  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â”‚
    â”‚             â”‚                               â”‚              â”‚
    â”‚  Each       â”‚  [Process Model] [Save]       â”‚              â”‚
    â”‚  section:   â”‚  [Download Word] [Send â†’]     â”‚              â”‚
    â”‚  âœ¨ Generateâ”‚                               â”‚              â”‚
    â”‚  ğŸ”„ Regen   â”‚                               â”‚              â”‚
    â”‚  â†‘â†“ Move    â”‚                               â”‚              â”‚
    â”‚             â”‚                               â”‚              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    SECTION ACTIONS:
    
    A. Generate Individual Section
       â”‚
       â”œâ”€â†’ Click âœ¨ next to "Introduction"
       â”‚
       â”œâ”€â†’ AI generates section content
       â”‚   - Uses section-specific prompt
       â”‚   - Considers existing sections
       â”‚   - Maintains document consistency
       â”‚
       â””â”€â†’ Section updates in real-time
           â—‹ Introduction â†’ âœ“ Introduction

    B. Regenerate Section
       â”‚
       â”œâ”€â†’ Click ğŸ”„ next to "Policy"
       â”‚
       â”œâ”€â†’ AI regenerates with new content
       â”‚
       â””â”€â†’ Section replaced with new version

    C. Move Section
       â”‚
       â”œâ”€â†’ Click â†‘ or â†“ next to section
       â”‚
       â”œâ”€â†’ Section reorders in document
       â”‚
       â””â”€â†’ Document structure updates

    D. Generate All Missing
       â”‚
       â”œâ”€â†’ Click "Generate All Missing Sections"
       â”‚
       â”œâ”€â†’ AI generates all â—‹ sections
       â”‚   - Processes in sequence
       â”‚   - Shows progress
       â”‚
       â””â”€â†’ All sections marked âœ“

    E. Manual Edit
       â”‚
       â”œâ”€â†’ Edit content in textarea
       â”‚
       â”œâ”€â†’ Sections auto-parse
       â”‚
       â””â”€â†’ Navigator updates

    STEP 5: Finalize & Submit
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Document Actions:                  â”‚
    â”‚                                     â”‚
    â”‚  [ğŸ”— Create Process Model]          â”‚
    â”‚  - Link visual process diagram      â”‚
    â”‚  - Auto-embeds in document          â”‚
    â”‚                                     â”‚
    â”‚  [ğŸ’¾ Save Draft]                    â”‚
    â”‚  - Save current state               â”‚
    â”‚  - Continue later                   â”‚
    â”‚                                     â”‚
    â”‚  [ğŸ“¥ Download as Word]              â”‚
    â”‚  - Formatted DOCX                   â”‚
    â”‚  - SAIB branding                    â”‚
    â”‚  - Process model embedded           â”‚
    â”‚                                     â”‚
    â”‚  [ğŸ“¤ Send to Approver]              â”‚
    â”‚  - Submit for approval              â”‚
    â”‚  - Enters workflow                  â”‚
    â”‚                                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â†’ Click "Send to Approver"
           â”‚
    STEP 6: Approval Workflow
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Approval Status: In Review         â”‚
    â”‚                                     â”‚
    â”‚  Approvers:                         â”‚
    â”‚  âœ“ Mohammed Al-Qahtani (Approved)  â”‚
    â”‚  â³ Khalid Al-Otaibi (Pending)     â”‚
    â”‚  â³ Fatima Al-Harbi (Pending)      â”‚
    â”‚                                     â”‚
    â”‚  Timeline:                          â”‚
    â”‚  â€¢ Request submitted                â”‚
    â”‚  â€¢ Document generated               â”‚
    â”‚  â€¢ Sent to approvers                â”‚
    â”‚  â€¢ Approval 1 received              â”‚
    â”‚  â€¢ Awaiting approval 2              â”‚
    â”‚                                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â†’ All approvers approve
           â”‚
    STEP 7: Publication
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Status: Approved âœ“                 â”‚
    â”‚                                     â”‚
    â”‚  [Publish Document]                 â”‚
    â”‚  - Publish to marketplace           â”‚
    â”‚  - Make available to users          â”‚
    â”‚  - Complete request                 â”‚
    â”‚                                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â†’ Click "Publish Document"
           â”‚
    STEP 8: Completion
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Status: Completed âœ“                â”‚
    â”‚                                     â”‚
    â”‚  Document published to:             â”‚
    â”‚  ğŸ“š Policy & Procedure Marketplace  â”‚
    â”‚                                     â”‚
    â”‚  Request REQ-2024-001 closed        â”‚
    â”‚                                     â”‚
    â”‚  [View Published Document]          â”‚
    â”‚                                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

## ğŸ”„ Status Flow

```
Request Status Flow:
Pending â†’ In Review â†’ Needs Revision â†’ Approved â†’ Completed
                â†“                â†‘
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                (Revision cycle)

Document Status Flow:
Draft â†’ In Review â†’ Changes Requested â†’ Approved â†’ Published
           â†“              â†‘
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           (Revision cycle)
```

## ğŸ¨ Section Generation Flow

```
Section Generation Process:

1. User clicks "Generate Section"
   â”‚
2. System prepares context
   â”œâ”€â†’ Section title
   â”œâ”€â†’ Document metadata
   â”œâ”€â†’ Existing sections
   â””â”€â†’ Language preference
   â”‚
3. Construct AI prompt
   â”œâ”€â†’ Section-specific instructions
   â”œâ”€â†’ Context from other sections
   â”œâ”€â†’ Regulatory requirements
   â””â”€â†’ Language formatting
   â”‚
4. Call Azure OpenAI API
   â”œâ”€â†’ Send prompt
   â”œâ”€â†’ Wait for response
   â””â”€â†’ Receive generated content
   â”‚
5. Update document
   â”œâ”€â†’ Replace section content
   â”œâ”€â†’ Mark section as generated
   â”œâ”€â†’ Reconstruct full document
   â””â”€â†’ Update UI
   â”‚
6. User sees result
   â”œâ”€â†’ Section appears in editor
   â”œâ”€â†’ Navigator shows âœ“
   â””â”€â†’ Can edit or regenerate
```

## ğŸ“Š Data Flow

```
Data Flow Architecture:

User Input
    â”‚
    â”œâ”€â†’ Form State
    â”‚   â”œâ”€â†’ title
    â”‚   â”œâ”€â†’ category
    â”‚   â”œâ”€â†’ language
    â”‚   â””â”€â†’ context
    â”‚
    â”œâ”€â†’ Section State
    â”‚   â”œâ”€â†’ sections[]
    â”‚   â”‚   â”œâ”€â†’ id
    â”‚   â”‚   â”œâ”€â†’ title
    â”‚   â”‚   â”œâ”€â†’ content
    â”‚   â”‚   â”œâ”€â†’ generated
    â”‚   â”‚   â””â”€â†’ order
    â”‚   â”‚
    â”‚   â””â”€â†’ selectedSectionId
    â”‚
    â”œâ”€â†’ Document State
    â”‚   â”œâ”€â†’ id
    â”‚   â”œâ”€â†’ content (full markdown)
    â”‚   â””â”€â†’ status
    â”‚
    â””â”€â†’ Storage
        â”œâ”€â†’ localStorage (requests)
        â”œâ”€â†’ DocumentContext (documents)
        â””â”€â†’ Azure OpenAI (generation)
```

## ğŸ¯ Key Decision Points

```
Decision Tree:

Start
  â”‚
  â”œâ”€â†’ Has existing document?
  â”‚   â”œâ”€â†’ Yes: Load document
  â”‚   â””â”€â†’ No: Create new
  â”‚
  â”œâ”€â†’ Generation mode?
  â”‚   â”œâ”€â†’ Full: Generate entire document
  â”‚   â””â”€â†’ Section: Initialize sections
  â”‚
  â”œâ”€â†’ Section action?
  â”‚   â”œâ”€â†’ Generate: Create new content
  â”‚   â”œâ”€â†’ Regenerate: Replace content
  â”‚   â”œâ”€â†’ Move: Reorder sections
  â”‚   â””â”€â†’ Edit: Manual changes
  â”‚
  â””â”€â†’ Finalize?
      â”œâ”€â†’ Save: Store draft
      â”œâ”€â†’ Download: Export Word
      â””â”€â†’ Submit: Send to approval
```

---

This diagram shows the complete end-to-end flow from user request submission through P&P team document generation (with the new section-by-section feature) to final publication.
